package settings

// AssetSettings configures the Asset Server/DataHub service.
type AssetSettings struct {
	APIPrefix                         string `key:"asset_apiPrefix" desc:"API path prefix" default:"/api/v1" category:"Asset" usage:"URL prefix for REST endpoints" type:"string" longdesc:"### Purpose\nSets the URL path prefix for Asset Server REST API endpoints.\n\n### How It Works\nAll API routes are mounted under this prefix. For example, with prefix /api/v1, the transaction endpoint becomes /api/v1/tx/{txid}.\n\n### Use Cases\n- Running multiple API versions simultaneously\n- Mounting API under custom path for reverse proxy configurations\n\n### Recommendations\n- **/api/v1** (default) - Provides versioned API namespace\n- Use versioned prefixes to support API evolution"`
	CentrifugeListenAddress           string `key:"asset_centrifugeListenAddress" desc:"Centrifuge WebSocket listen address" default:":8892" category:"Asset" usage:"Real-time streaming endpoint" type:"string" longdesc:"### Purpose\nSpecifies the listen address for the Centrifuge WebSocket server providing real-time blockchain event streaming.\n\n### How It Works\nDashboard and external applications connect here for live updates. Events streamed include new blocks, transactions, and chain reorganizations.\n\n### Format\n- **:port** - Listen on all interfaces\n- **ip:port** - Listen on specific interface\n\n### Recommendations\n- **:8892** (default) - Dedicated port for WebSocket traffic\n- Separate from main HTTP to allow independent scaling"`
	CentrifugeDisable                 bool   `key:"asset_centrifuge_disable" desc:"Disable Centrifuge WebSocket server" default:"false" category:"Asset" usage:"Turn off real-time streaming" type:"bool" longdesc:"### Purpose\nDisables the Centrifuge WebSocket server entirely when enabled.\n\n### How It Works\nWhen set to true, the WebSocket server is not started, saving resources but breaking real-time features.\n\n### Trade-offs\n| Setting | Benefit | Drawback |\n|---------|---------|----------|\n| Enabled (true) | Reduced resource usage | Breaks live dashboard and client notifications |\n| Disabled (false) | Real-time streaming available | Additional resource consumption |\n\n### Recommendations\n- **false** (default) - Keep streaming enabled for interactive use\n- **true** - Only for headless/archive nodes serving historical data"`
	HTTPAddress                       string `key:"asset_httpAddress" desc:"HTTP address for client connections" default:"http://localhost:8090/api/v1" category:"Asset" usage:"Public URL for Asset API" type:"string" longdesc:"### Purpose\nSpecifies the full HTTP URL where Asset Server API is accessible to clients.\n\n### How It Works\nOther services and clients use this URL to construct API request URLs. Includes scheme, host, port, and API prefix.\n\n### Recommendations\n- **http://localhost:8090/api/v1** (default) - For local development\n- Use publicly accessible URL or internal service URL depending on deployment architecture"`
	HTTPPublicAddress                 string `key:"asset_httpPublicAddress" desc:"Public HTTP address for external clients" default:"" category:"Asset" usage:"External-facing URL" type:"string" longdesc:"### Purpose\nSpecifies the public-facing URL for Asset Server accessible from outside the cluster.\n\n### How It Works\nUsed in responses that include self-referencing URLs. When empty, HTTPAddress is used for all clients.\n\n### Example\n| Type | URL |\n|------|-----|\n| Internal | http://asset:8090 |\n| External | https://api.example.com |\n\n### Recommendations\n- **Empty** (default) - Use HTTPAddress for all clients\n- Set when internal and external URLs differ (e.g., behind load balancer or reverse proxy)"`
	HTTPListenAddress                 string `key:"asset_httpListenAddress" desc:"HTTP listen address" default:":8090" category:"Asset" usage:"Server binding address" type:"string" longdesc:"### Purpose\nSpecifies the local address for Asset Server HTTP binding.\n\n### How It Works\nServes REST API (transactions, blocks, merkle proofs, subtree data) and dashboard static assets when enabled.\n\n### Format\n- **:port** - Listen on all interfaces\n- **ip:port** - Listen on specific interface\n\n### Recommendations\n- **:8090** (default) - Listens on all interfaces\n- This is a high-traffic endpoint - consider dedicated network interface in production"`
	HTTPPort                          int    `key:"ASSET_HTTP_PORT" desc:"HTTP port number" default:"8090" category:"Asset" usage:"Port for HTTP connections" type:"int" longdesc:"### Purpose\nSpecifies the explicit port number for Asset Server HTTP connections.\n\n### How It Works\nUsed for service discovery and health checks. Should match port in HTTPListenAddress. Environment variable format (ASSET_HTTP_PORT) provides container orchestration compatibility.\n\n### Recommendations\n- **8090** (default) - Standard Asset Server port\n- Change only when port conflicts require it"`
	SignHTTPResponses                 bool   `key:"asset_sign_http_responses" desc:"Sign HTTP responses" default:"false" category:"Asset" usage:"Enable response signing" type:"bool" longdesc:"### Purpose\nEnables HTTP response signing with the node's private key for client verification.\n\n### How It Works\nWhen enabled, responses are signed using Ed25519 or secp256k1 (depending on configuration). Clients must have the node's public key to verify signatures.\n\n### Trade-offs\n| Setting | Benefit | Drawback |\n|---------|---------|----------|\n| Enabled | Response authenticity and integrity | Signing overhead |\n| Disabled | Better performance | No verification possible |\n\n### Recommendations\n- **false** (default) - For performance in trusted environments\n- **true** - For high-security deployments or untrusted networks"`
	EchoDebug                         bool   `key:"ECHO_DEBUG" desc:"Enable Echo framework debug mode" default:"false" category:"Asset" usage:"Verbose HTTP framework logging" type:"bool" longdesc:"### Purpose\nEnables debug mode in the Echo HTTP framework for verbose logging.\n\n### How It Works\nWhen enabled, logs request/response details, headers, parameters, and timing information.\n\n### Recommendations\n- **false** (default) - Required for production\n- **true** - Only for debugging HTTP issues in development\n\n### Warning\nGenerates high log volume and may expose sensitive information. Never enable in production."`
	PropagationPublicURL              string `key:"asset_propagation_public_url" desc:"Public URL for propagation" default:"" category:"Asset" usage:"External-facing URL for propagation" type:"string" longdesc:"### Purpose\nSpecifies the public-facing URL for Asset Server accessible from outside the cluster.\n\n### How It Works\nUsed in responses that include self-referencing URLs. When empty, HTTPAddress is used for all clients.\n\n### Example\n| Type | URL |\n|------|-----|\n| Internal | http://asset:8090 |\n| External | https://api.example.com |\n\n### Recommendations\n- **Empty** (default) - Use HTTPAddress for all clients\n- Set when internal and external URLs differ (e.g., behind load balancer or reverse proxy)"`
	ConcurrencyGetTransaction         int    `key:"asset_concurrency_get_transaction" desc:"Concurrency for GetTransaction" default:"0" category:"Asset" usage:"Parallel transaction fetches" type:"int" longdesc:"### Purpose\nControls parallelism when fetching transaction data from storage via GetTransaction repository method.\n\n### Values\n- **0** - Unlimited concurrency (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Trade-offs\n| Setting | Benefit | Drawback |\n|---------|---------|----------|\n| Lower | Reduced storage load | Slower response times |\n| Higher | Improved throughput | Increased resource usage |"`
	ConcurrencyGetTransactionMeta     int    `key:"asset_concurrency_get_transaction_meta" desc:"Concurrency for GetTransactionMeta" default:"0" category:"Asset" usage:"Parallel metadata fetches" type:"int" longdesc:"### Purpose\nControls parallelism when fetching transaction metadata (confirmation status, block inclusion) via GetTransactionMeta repository method.\n\n### Values\n- **0** - Unlimited (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Recommendations\nMetadata fetches are typically lighter than full transaction fetches, so higher concurrency is usually acceptable."`
	ConcurrencyGetSubtreeData         int    `key:"asset_concurrency_get_subtree_data" desc:"Concurrency for GetSubtreeData" default:"0" category:"Asset" usage:"Parallel subtree data fetches" type:"int" longdesc:"### Purpose\nControls parallelism when fetching subtree data for P2P sync and block validation via GetSubtreeData repository method.\n\n### Values\n- **0** - Unlimited (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Recommendations\nSubtree fetches can be I/O intensive - consider limiting in resource-constrained environments."`
	ConcurrencyGetSubtreeDataReader   int    `key:"asset_concurrency_get_subtree_data_reader" desc:"Concurrency for GetSubtreeDataReader" default:"0" category:"Asset" usage:"Parallel subtree streaming" type:"int" longdesc:"### Purpose\nControls parallelism for streaming subtree data reads via GetSubtreeDataReader repository method.\n\n### Values\n- **0** - Unlimited (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Recommendations\nStreaming operations hold resources longer than single fetches - consider lower limits for many concurrent clients."`
	ConcurrencyGetSubtreeTransactions int    `key:"asset_concurrency_get_subtree_transactions" desc:"Concurrency for GetSubtreeTransactions" default:"0" category:"Asset" usage:"Parallel subtree tx fetches" type:"int" longdesc:"### Purpose\nControls parallelism when fetching all transactions in a subtree via GetSubtreeTransactions repository method.\n\n### Values\n- **0** - Unlimited (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Warning\nLarge subtrees may contain millions of transactions - limit concurrency to prevent resource exhaustion."`
	ConcurrencyGetSubtreeExists       int    `key:"asset_concurrency_get_subtree_exists" desc:"Concurrency for GetSubtreeExists" default:"0" category:"Asset" usage:"Parallel existence checks" type:"int" longdesc:"### Purpose\nControls parallelism for subtree existence checks via GetSubtreeExists repository method.\n\n### Values\n- **0** - Unlimited (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Recommendations\nExistence checks are lightweight - high concurrency is usually acceptable."`
	ConcurrencyGetSubtreeHead         int    `key:"asset_concurrency_get_subtree_head" desc:"Concurrency for GetSubtreeHead" default:"0" category:"Asset" usage:"Parallel subtree head fetches" type:"int" longdesc:"### Purpose\nControls parallelism when fetching subtree headers/metadata via GetSubtreeHead repository method.\n\n### Values\n- **0** - Unlimited (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Recommendations\nHeader fetches are lightweight compared to full subtree data - high concurrency is usually acceptable."`
	ConcurrencyGetUtxo                int    `key:"asset_concurrency_get_utxo" desc:"Concurrency for GetUtxo" default:"0" category:"Asset" usage:"Parallel UTXO fetches" type:"int" longdesc:"### Purpose\nControls parallelism when fetching UTXO data via GetUtxo repository method.\n\n### Values\n- **0** - Unlimited (default)\n- **-1** - Use NumCPU()\n- **Positive values** - Explicit limit\n\n### Recommendations\nUTXO queries hit Aerospike - coordinate with Aerospike connection pool size to avoid connection exhaustion."`
	ConcurrencyGetLegacyBlockReader   int    `key:"asset_concurrency_get_legacy_block_reader" desc:"Concurrency for GetLegacyBlockReader" default:"-1" category:"Asset" usage:"Parallel legacy block reads" type:"int" longdesc:"### Purpose\nControls parallelism when serving legacy block format requests via GetLegacyBlockReader repository method.\n\n### How It Works\nLegacy block reads serve Bitcoin protocol compatible responses for older clients and tools.\n\n### Values\n- **0** - Unlimited\n- **-1** - Use NumCPU() (default)\n- **Positive values** - Explicit limit"`
	SubtreeDataStreamingChunkSize     int    `key:"asset_subtreeDataStreamingChunkSize" desc:"Chunk size for subtree data streaming" default:"10000" category:"Asset" usage:"Records per streaming chunk" type:"int" longdesc:"### Purpose\nControls the number of records per chunk when streaming subtree data to clients.\n\n### How It Works\nLarge subtrees are streamed in chunks to manage memory and provide incremental delivery.\n\n### Trade-offs\n| Setting | Benefit | Drawback |\n|---------|---------|----------|\n| Higher | Reduced protocol overhead | More memory per request |\n| Lower | Smoother streaming | More protocol overhead |\n\n### Recommendations\n- **10000** (default) - Balances memory usage with streaming efficiency"`
	SubtreeDataStreamingConcurrency   int    `key:"asset_subtreeDataStreamingConcurrency" desc:"Concurrency for subtree data streaming" default:"4" category:"Asset" usage:"Parallel streaming operations" type:"int" longdesc:"### Purpose\nControls the number of concurrent workers for subtree data streaming operations.\n\n### How It Works\nControls how many chunks can be processed in parallel during a single streaming request.\n\n### Trade-offs\n| Setting | Benefit | Drawback |\n|---------|---------|----------|\n| Higher | Faster large subtree transfers | More memory and CPU usage |\n| Lower | Lower resource usage | Slower transfers |\n\n### Recommendations\n- **4** (default) - Good parallelism without excessive resource usage"`
}
