package settings

// DebugSettings configures subsystem-specific debug toggles.
type DebugSettings struct {
	All       bool `key:"debug_all" desc:"Enable debug logging for all subsystems" default:"false" category:"Debug" usage:"Use sparingly as it generates verbose output" type:"bool" longdesc:"### Purpose\nMaster toggle that enables all debug logging across all subsystems simultaneously.\n\n### How It Works\nWhen true, overrides all individual debug flags (File, Blobstore, UTXOStore), enabling comprehensive tracing of all operations. Equivalent to setting all individual flags to true.\n\n### Values\n- **false** (default) - Debug logging controlled by individual flags\n- **true** - Enable all subsystem debug logging\n\n### Warning\n**Requires LogLevel=DEBUG** to actually emit debug logs. Setting this flag without DEBUG level has no effect.\n\n### Trade-offs\n| Setting | Benefit | Drawback |\n|---------|---------|----------|\n| Enabled | Complete visibility for debugging | Massive log volume, significant performance impact |\n| Disabled | Normal operation, low overhead | Must enable individual flags when debugging |\n\n### Recommendations\n- Use only for critical debugging sessions in **development**\n- In production, prefer specific subsystem flags to minimize noise\n- Consider storage capacity for logs before enabling"`
	File      bool `key:"debug_file" desc:"Enable debug logging for file operations" default:"false" category:"Debug" usage:"Useful for diagnosing storage issues" type:"bool" longdesc:"### Purpose\nEnables debug logging for file system operations including blob store reads/writes, subtree file operations, and temporary file handling.\n\n### How It Works\nWhen enabled, logs detailed information about all file I/O operations:\n- File open/close events\n- Read/write byte counts and checksums\n- Path resolution and DAH cleanup operations\n- Error details with context\n\nAlso enables Blobstore logs when **?logger=true** is set in blob store URL configuration.\n\n### Values\n- **false** (default) - No file operation logging\n- **true** - Detailed file system operation tracing\n\n### Warning\n**Requires LogLevel=DEBUG** to emit logs.\n\n### Recommendations\n- Enable when diagnosing disk space issues, file I/O problems, or filesystem-level errors\n- Useful for debugging missing files, permission issues, storage backend problems, or file handle leaks"`
	Blobstore bool `key:"debug_blobstore" desc:"Enable debug logging for blob store operations" default:"false" category:"Debug" usage:"Useful for diagnosing S3/file storage issues" type:"bool" longdesc:"### Purpose\nEnables debug logging for blob store API operations including S3, filesystem, and other storage backends.\n\n### How It Works\nLogs all blob store API calls (Get, Set, Exists, Del, etc.) with 5-level deep call stacks showing which code is calling blob store operations and why. Traces include:\n- GET/PUT operations with keys and file types\n- Storage provider interactions\n- Caching behavior\n\n### Values\n- **false** (default) - No blob store API logging\n- **true** - Detailed blob store operation tracing with call stacks\n\n### Warning\n**Requires both LogLevel=DEBUG and ?logger=true** in blob store URL configuration to emit logs.\n\n### Recommendations\n- Enable when diagnosing storage connectivity issues, missing blobs, or performance problems with external storage\n- Useful for tracking application-level blob access patterns"`
	UTXOStore bool `key:"debug_utxostore" desc:"Enable debug logging for UTXO store operations" default:"false" category:"Debug" usage:"Useful for diagnosing UTXO-related issues" type:"bool" longdesc:"### Purpose\nEnables debug logging for UTXO store operations including creates, spends, queries, and batching.\n\n### How It Works\nLogs detailed information about UTXO store file operations and database interactions:\n- Record key construction\n- Batch accumulation\n- Aerospike operations\n- Spend confirmations\n\n### Values\n- **false** (default) - No UTXO store logging\n- **true** - Detailed UTXO store operation tracing\n\n### Warning\n**Requires LogLevel=DEBUG** to emit logs. Generates **very high log volume** when enabled due to the frequency of UTXO operations.\n\n### Recommendations\n- Enable when diagnosing missing UTXOs, double-spend issues, or database performance problems\n- Use sparingly in production due to log volume"`
}
